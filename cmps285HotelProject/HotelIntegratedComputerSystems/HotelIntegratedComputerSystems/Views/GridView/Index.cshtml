@using HotelIntegratedComputerSystems.Models.Admin
@using HotelIntegratedComputerSystems.Models.GridView
@model HotelIntegratedComputerSystems.Models.GridView.GridViewRooms
@Scripts.Render("~/Scripts/OneFilterPerColumn.js")

@{
    ViewBag.Title = "Index";
}

<head>
    <title>Grid View</title>
    <link href="~/Content/GridViewStyleSheet.css" rel="stylesheet" />
</head>

<h2></h2>
<div class="col-lg-2 col-md-2 col-sm-2">
    <div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">Filters</h3>
    </div>
    <div class="panel2">
    <input type="text" id="myInput1" onkeyup="filterFunctionColumn5('dev-table', 'myInput1', 'myInput2', 'myInput3', 'myInput4', 'myInput5', 'myInput6', 'myInput7')" class="form-control2 " data-action="filter" placeholder="Filter Building" />
    <input type="text" id="myInput2" onkeyup="filterFunctionColumn5('dev-table', 'myInput1', 'myInput2', 'myInput3', 'myInput4', 'myInput5', 'myInput6', 'myInput7')" class="form-control2" data-action="filter" placeholder="Filter Floor" />
    <input type="text" id="myInput3" onkeyup="filterFunctionColumn5('dev-table', 'myInput1', 'myInput2', 'myInput3', 'myInput4', 'myInput5', 'myInput6', 'myInput7')" class="form-control2" data-action="filter" placeholder="Filter Room" />
    <input type="text" id="myInput4" onkeyup="filterFunctionColumn5('dev-table', 'myInput1', 'myInput2', 'myInput3', 'myInput4', 'myInput5', 'myInput6', 'myInput7')" class="form-control2" data-action="filter" placeholder="Filter Clean Status" />
    <input type="text" id="myInput5" onkeyup="filterFunctionColumn5('dev-table', 'myInput1', 'myInput2', 'myInput3', 'myInput4', 'myInput5', 'myInput6', 'myInput7')" class="form-control2" data-action="filter" placeholder="Filter Room Type" />
        @using (Html.BeginForm())
        {
            @Html.Label("Date Range:")
            <input type="date" name="startDate" class="form-control2 col-lg-2" required/>
            <input type="date" name="endDate" class="form-control2" required/>
            <input type="submit" value="Submit Date Range" class="form-control2"/>
        }
        <div>
            @Html.ActionLink("Add Customer", "NewCust")
        </div>
        <div>
            @Html.ActionLink("Add Booking", "NewBook")
    </div>

        </div>
        </div>
</div>
<div class="col-lg-10 col-md-10 col-sm-10">
<div class="panel panel-primary">
    <div class="panel-heading">
        <h3 class="panel-title">Grid View</h3>
    </div>
    <div class="panel1">
    <table class="table table-hover table-bordered" id="dev-table">
        <thead>
        <tr>
            <th>
                Building
            </th>
            <th>
                Floor #
            </th>
            <th>
                Room Name
            </th>
            <th>
                Clean Status
            </th>
            <th>
                Room Type
            </th>
            @foreach (var item in Model.DatesList)
            {
                <th>
                    @Html.DisplayFor(modelItem => item)
                </th>

            }
        </tr>
            </thead>
        <tbody >
        @foreach (var currentRoom in Model.RoomsList)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => currentRoom.BuildingName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => currentRoom.FloorNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => currentRoom.RoomNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => currentRoom.HouseKeepingStatus)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => currentRoom.RoomType)
                </td>
                @foreach (var currentBooking in currentRoom.BookingsList)
                {
                    if (currentBooking.CustomerName != null)
                    {
                        <td class="alert-danger">
                            @Html.DisplayFor(modelItem => currentBooking.CustomerName)

                        </td>
                    }
                    else
                    {
                        <td>
                            @Html.DisplayFor(modelItem => currentBooking.CustomerName)

                        </td>
                    }
                }
            </tr>

        }
        </tbody>
    </table>
        </div>
</div>
</div>